type Question @model
  @auth(rules: [
    { allow: public, operations: [read] },                   # Public can read questions
    { allow: owner, operations: [read, create] },           # Owner (user) can create (if needed)
    { allow: groups, groups: ["Admin"], operations: [create, update, delete, read] } # Admins full access
  ]) {
  id: ID!
  question: String!
  choices: [String!]!
  answer: String!
  explanation: String
  topic: String
  owner: String
}

type QuizHistory @model
  @auth(rules: [
    { allow: owner, operations: [create, read] },           # Logged-in users save/view their own quizzes
    { allow: groups, groups: ["Admin"], operations: [create, read, update, delete] } # Admins full access
  ]) {
  id: ID!
  userId: String!
  score: Int
  total: Int
  answers: AWSJSON
  createdAt: AWSDateTime
}
